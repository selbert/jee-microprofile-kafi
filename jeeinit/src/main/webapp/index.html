<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"/>
    <title>microprofile</title>
</head>
<body>
<h2>microprofile</h2>

<h3>Config</h3>
<a href="resources/info" target="_blank" >Info endpoint with injected config</a> <br/>


<h3>Items resource</h3>
<a href="resources/items" target="_blank" >All Items</a> <br/>
<a href="resources/items/0" target="_blank" >One Item</a> <br/>
<label>Create new Item with 2 retries and 50% probability of failure per retry</label>
<input id="itemId" type="number" value="0"/>
<input id="itemName" type="text" value="name"/>
<input id="addItem" type="submit" value="GO"/>
<script>
    document.getElementById("addItem").onclick = async () => {
            const rawResponse = await fetch('resources/items', {
                method: 'POST',
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    id: document.getElementById("itemId").value,
                    name:document.getElementById("itemName").value})
            });

            const content = await rawResponse.text();
            console.log(content);
            console.log(rawResponse.status);
            console.log(rawResponse.headers.get("location"));
        }
</script>
<h3>Health</h3>
<a href="../health" target="_blank" >Health status</a> <br/>

<h3>Metrics</h3>
<a href="../metrics" target="_blank" >Metrics page</a> <br/>

<h3>Open API</h3>
<a href="../openapi" target="_blank" >Open API Documentation</a> <br/>

<h3>Open API UI</h3>
<a href="../openapi/ui" target="_blank" >Open API Documentation</a> <br/>

</body>
</html>